### 一等函数

在Python 中，函数是一等对象。

何为“一等函数”：

- 在运行时创建

- 能赋值给变量或数据结构中的元素

- 能作为参数传给函数

- 能作为函数的返回结果

`__doc__`是函数对象的众多属性之一，返回函数的帮助文本。

`map`函数：返回一个可迭代对象，里面的元素是把第一个参数（一个函数）应用到第二个参数（一个可迭代对象，这里是`range(n)`）中各个元素上得到的结果。

高阶函数（higher-order function）：接受函数为参数，或者把函数作为结果返回的函数是高阶函数。

函数式语言通常会提供`map`、`filter`和`reduce`三个高阶函数（有时使用不同的名称）。在Python3 中，`map`和`filter`还是内置函数，但是由于引入了列表推导和生成器表达式，它们变得没那么重要了。

#### 匿名函数

`lambda`关键字在Python表达式内创建匿名函数。

Python简单的句法限制了`lambda`函数的定义体只能使用纯表达式。

除了作为参数传给高阶函数外，Python 很少使用匿名函数。由于句法上的限制，非平凡的`lambda`表达式要么难以阅读，要么无法写出。

`lambda`表达式重构秘籍：

- 编写注释，说明`lambda`表达式的作用。

- 研究一会儿注释，并找出一个名称来概括注释。

- 把`lambda`表达式转换成`def`语句，使用那个名称来定义函数。

- 删除注释。

可调用对象：

类，调用类时会运行类的`__new__`方法创建一个实例，然后运行`__init__`方法，初始化实例，最后把实例返回给调用方。因为Python 没有`new`运算符，所以调用类相当于调用函数。

类的实例，如果类定义了`__call__`方法，那么它的实例可以作为函数调用。

Python中有各种各样的可调用的类型，因此判断对象能否调用，最安全的方法是使用内置的`callable()`函数。

除了`__doc__`，函数对象还有很多属性。使用`dir`函数可以探知某一函数的属性。

函数使用`__dict__`属性存储赋予它的用户属性。

函数对象有个`__defaults`属性，它的值是一个元组，里面保存着定位参数和关键字参数的默认值。仅限关键字参数的默认值在`__kwdefaults__`属性中。然而，参数的名称在`__code__`属性中，它的值是一个`code`对象引用，自身也有很多属性。

`operator`模块为多个算术运算符提供了对应的函数。
